<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Key Detection</title>
    <script type="text/javascript" src="https://www.cornify.com/js/cornify.js"></script>
</head>

<body>
    <script>
        (() => {
            // Declare constants for secret code & array to hold keys pressed
            const pressedKeys = [],
                passcode =
                "ArrowUpArrowUpArrowDownArrowDownArrowLeftArrowRightArrowLeftArrowRightbaEnter";

            // Attach event listener to window object
            window.addEventListener("keyup", (e) => {
                /* 
                        If value of secret code at index matching array's length
                        is equivalent to the key property of the event, push the
                        value into the array. Otherwise, reset the array.
                        */
                passcode[pressedKeys.length] === e.key ?
                    pressedKeys.push(e.key) :
                    (pressedKeys.length = 0);

                /* If array of pressed keys matches secret code
                      when joined together, log out a message,
                      call the 'cornify_add()' function,
                      & reset the array.
                      */
                pressedKeys.join("") === passcode &&
                    (() => {
                        console.info("The world is a virtual reality");
                        cornify_add();
                        pressedKeys = [];
                    });
            });
        })();
    </script>
</body>

</html>